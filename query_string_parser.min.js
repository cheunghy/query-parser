(function(){var n,e,t,r,o,u,h,i,l,f;n=function(n,e){var t,r,o,u;for(r=[],o=0,u=n.length;u>o;o++)t=n[o],r.push(e(t));return r},o=/\[([^\]]*)\]/gi,u=/^([^\[\]]+)/,f=function(n,t,r,o){var u,h,i;return 0===r.length?0===t.length?n.push(o):n[t]=o:(h=r.shift(),i=null,0===t.length&&0===h.length?(n[n.length-1]&&Array.isArray(n[n.length-1])||n.push([]),i=n[n.length-1]):0===t.length&&h.length>0?((0===n.length||Array.isArray(n[n.length-1])||"object"!=typeof n[n.length-1])&&n.push({}),u=n[n.length-1],e(u,h,r)||n.push({}),u=n[n.length-1],i=u):t.length>0&&0===h.length?(n[t]||(n[t]=[]),i=n[t]):t.length>0&&h.length>0&&(n[t]||(n[t]={}),i=n[t]),f(i,h,r,o))},e=function(n,e,t){var r,o,u,h;if(!n[e])return!0;for(r=n[e],u=0,h=t.length;h>u;u++)if(o=t[u],r=r[o],!r)return!0;return!1},h=function(e){var t,r,h,i,l,g,s,p,c,a,y;for(e||(e=window.location.search),s=e.split(/[?&;] */),i={},c=0,a=s.length;a>c;c++)if(g=s[c],g.length>=0&&(y=n(g.split("="),function(n){return decodeURIComponent(n)}),t=y[0],p=y[1],void 0!==t&&void 0!==p)){for(r=[];h=o.exec(t);)r.push(h[1]);l=u.exec(t)[1],f(i,l,r,p)}return i},r=function(n){return l(n,"",!0)},t=function(n){var e,t;for(e in n)return t=n[e],!1;return!0},l=function(n,e,r){var o,u,h,i,f,g,s;if(null==r&&(r=!1),"number"==typeof n||"string"==typeof n)return encodeURIComponent(e)+"="+encodeURIComponent(n);if(Array.isArray(n)&&n.length>0){for(i=[],g=0,s=n.length;s>g;g++)h=n[g],i.push(l(h,e+"[]"));return i.join("&")}if("object"==typeof n&&!t(n)){i=[];for(o in n)f=n[o],u=r?o:"["+o+"]",i.push(l(f,e+u));return i.join("&")}},i="undefined"!=typeof exports&&null!==exports?exports:12345,12345!==i?(exports.toQuery=r,exports.fromQuery=h):(this.parseQuery=h,this.objectToQuery=r)}).call(this);